<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex,nofollow" />
  <title>connection</title>

  <style>
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    body {
      background: #000;
      color: #f5f5ff;
      font-family: -apple-system, system-ui, "Apple SD Gothic Neo",
        "Noto Sans KR", sans-serif;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      overflow-y: auto;
      padding: 8px;
    }

    /* ì¸íŠ¸ë¡œ í™”ë©´ */
    .intro {
      position: fixed;
      inset: 0;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }
    .intro-text {
      font-size: 25px;
      letter-spacing: 0.3em;
      color: #f5f5ff;
      text-shadow:
        0 0 8px rgba(255, 255, 255, 0.9),
        0 0 22px rgba(54, 84, 255, 0.9);
      animation: introPulse 1.2s ease-in-out infinite alternate;
    }
    @keyframes introPulse {
      from { opacity: 0.4; }
      to   { opacity: 1; }
    }
    .intro.fade-out {
      animation: introFadeOut 0.8s ease forwards;
    }
    @keyframes introFadeOut {
      to {
        opacity: 0;
        visibility: hidden;
      }
    }

    /* ë³¸ í™”ë©´ ì»¨í…Œì´ë„ˆ */
    .app {
      width: 100%;
      max-width: 900px;
      margin: 8px auto 16px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      opacity: 0;
      pointer-events: none;
    }
    .app.visible {
      opacity: 1;
      pointer-events: auto;
      transition: opacity 0.6s ease;
    }

    /* í”„ë ˆì„ */
    .frame {
      position: relative;
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
    }

    /* HUD */
    .top-bar {
      width: 100%;
      height: 80px;
      background-image: url("top-bar.png");
      background-repeat: no-repeat;
      background-position: center top;
      background-size: contain;
      pointer-events: none;
    }

    .content {
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 24px;
      transform-origin: center;
      margin-top: 52px;
      padding: 0 8px;
    }

    /* Q ë¼ë²¨ */
    .q-label {
      font-size: 30px;
      color: #ffffff;
      text-align: center;
      margin-bottom: 8px;
      text-shadow:
        0 0 6px rgba(255, 255, 255, 0.9),
        0 0 18px rgba(255, 255, 255, 0.9);
      display: none;
    }

    /* ì§ˆë¬¸/ë°˜ì‘ í…ìŠ¤íŠ¸ */
    .q-text {
      font-size: 22px;
      line-height: 1.6;
      white-space: pre-wrap;
      text-align: center;
      margin-top: 4px;
    }

    /* ê¸°ë³¸ ë„¤ì˜¨ ê¸€ë¡œìš° */
    .glow {
      text-shadow:
        0 0 6px rgba(255, 255, 255, 0.9),
        0 0 18px rgba(255, 255, 255, 0.9);
    }

    /* ë¹¨ê°„ ë„¤ì˜¨ í…ìŠ¤íŠ¸ */
    .red {
      color: #ff3058;
      text-shadow:
        0 0 6px rgba(255, 119, 155, 0.9),
        0 0 24px rgba(255, 40, 72, 0.95);
    }

    /* íŒŒë€ ë„¤ì˜¨ í…ìŠ¤íŠ¸ */
    .blue {
      color: #3654ff;
      text-shadow:
        0 0 6px rgba(54, 84, 255, 0.9),
        0 0 18px rgba(54, 84, 255, 0.9);
    }

    /* ë¹¨ê°„ ë°•ìŠ¤ ê°•ì¡° */
    .box-red {
      display: inline-block;
      padding: 16px 24px;
      border-radius: 14px;
      border: 1px solid rgba(255, 48, 88, 0.8);
      background: rgba(255, 48, 88, 0.08);
      margin-top: 24px;
    }

    .emph {
      font-weight: 700;
    }

    /* ì„ íƒì§€ ì»¨í…Œì´ë„ˆ */
    .choices {
      display: flex;
      flex-direction: column;
      gap: 24px;
      margin-top: 60px;
    }

    /* ë²„íŠ¼ */
    .choice-btn {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  max-width: 700px;

  /* ë‘ ì¤„ì´ í•µì‹¬ */
  aspect-ratio: 3/1;   /* ê°€ë¡œ : ì„¸ë¡œ = N : 1 */
  height: auto;          /* ê³ ì • ë†’ì´ ì‚­ì œ */

  margin: 0 auto;
  border: none;
  border-radius: 0;
  padding: 4px 64px;
  text-align: left;
  font-size: 21px;
  cursor: pointer;
  color: #f5f6ff;
  background-color: transparent;
  background-image: url("frame.png");
  background-position: center;
  background-size: 100% 100%;  /* ê½‰ ì±„ìš°ê³  ì‹¶ìœ¼ë©´ ì´ë ‡ê²Œ */
  background-repeat: no-repeat;
  outline: none;
  overflow: hidden;
  transform-origin: center;
}

   .choice-btn span {
  position: relative;
  z-index: 1;
  text-shadow:
    0 0 4px rgba(0, 0, 0, 0.9),
    0 0 12px rgba(0, 0, 0, 0.8);
  white-space: normal;
  word-break: keep-all;
  overflow: hidden;
  text-overflow: clip;

  margin-left: 30px;  /* 19px â†’ 30px : ë” ì˜¤ë¥¸ìª½ìœ¼ë¡œ */
  margin-top: 6px;    /* ìƒˆë¡œ ì¶”ê°€ : ê¸€ì”¨ë¥¼ ì•„ë˜ë¡œ ì‚´ì§ ë‚´ë¦¬ê¸° */
}

    .choice-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(
        circle at 0 0,
        rgba(255, 255, 255, 0.18),
        transparent 55%
      );
      opacity: 0;
      transition: opacity 0.18s ease;
    }

    .choice-btn:hover::before {
      opacity: 0.4;
    }

    .choice-btn:active {
      transform: scale(0.97);
    }

    .choice-btn.red span {
      color: #ffdae2;
    }

    /* ì§ˆë¬¸ / ë²„íŠ¼ ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜ */
    .question-enter {
      animation: questionIn 0.6s ease-out forwards;
    }
    @keyframes questionIn {
      from {
        opacity: 0;
        transform: scale(0.96);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .choices-enter .choice-btn {
      opacity: 0;
      transform: translateY(10px) scale(0.96);
      animation: btnPop 0.28s ease-out forwards;
    }
    @keyframes btnPop {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .choices-hide {
      animation: choicesFadeOut 0.35s ease forwards;
    }
    @keyframes choicesFadeOut {
      to {
        opacity: 0;
        transform: translateY(6px);
      }
    }

    /* í…ìŠ¤íŠ¸ í˜ì´ë“œì•„ì›ƒ */
    .fade-out {
      animation: textFadeOut 1s ease forwards;
    }
    @keyframes textFadeOut {
      to { opacity: 0; }
    }

    /* ì§€ì§„ íš¨ê³¼ */
    .shake {
      animation: shake 0.35s ease-in-out infinite;
    }
    @keyframes shake {
      0%   { transform: translate(0px, 0px); }
      25%  { transform: translate(-1px, 1px); }
      50%  { transform: translate(1px, -1px); }
      75%  { transform: translate(-1px, -1px); }
      100% { transform: translate(1px, 1px); }
    }

    /* í™”ë©´ ì•”ì „ */
    .screen-dark {
      animation: fadeToBlack 2.2s ease forwards;
    }
    @keyframes fadeToBlack {
      to {
        background: #000;
        color: #aeb0ff;
      }
    }

    .hard-black {
      background: #000 !important;
      color: #000 !important;
      box-shadow: none !important;
      border-color: #000 !important;
    }

    /* ì—”ë”© ë©”ì‹œì§€ ì˜¤ë²„ë ˆì´ */
    .msg-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.82);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 30;
    }
    .msg-overlay.show {
      opacity: 1;
      pointer-events: auto;
    }
    .msg-window {
      width: 90%;
      max-width: 420px;
      background: #111317;
      border-radius: 18px;
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.9);
      overflow: hidden;
      border: 1px solid rgba(54, 84, 255, 0.8);
      color: #f7f7ff;
      font-size: 14px;
    }
    .msg-header {
      padding: 10px 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      font-weight: 600;
      letter-spacing: 0.08em;
      font-size: 12px;
      text-transform: uppercase;
      color: #aab3ff;
    }
    .msg-body {
      padding: 18px 16px 12px;
      line-height: 1.7;
      white-space: pre-wrap;
    }
    .msg-close {
      width: 100%;
      border: none;
      padding: 10px 0 12px;
      background: #23263a;
      color: #f5f5ff;
      font-size: 13px;
      cursor: pointer;
    }
    .msg-close:hover {
      background: #2f3550;
    }

   /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ ëª¨ë°”ì¼ ì „ìš© ì„¤ì • â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 480px) {
  .choice-btn {
    max-width: 100%;      /* í™”ë©´ í­ ì±„ìš°ê¸° */
    aspect-ratio: 2 / 1;
    height: auto;        

    padding: 4px 32px;    /* ì–‘ì˜† ì—¬ë°±ì€ ì¡°ê¸ˆ ì¤„ì—¬ì„œ ë‹µë‹µí•˜ì§€ ì•Šê²Œ */
    font-size: 18px;    
  }

  .choice-btn span {
    margin-left: 18px;    /* ê¸€ì”¨ ì¡°ê¸ˆ ì˜¤ë¥¸ìª½ */
    position: relative;
    top: 2px;             /* ê¸€ì”¨ë¥¼ ì‚´ì§ ì•„ë˜ë¡œ ë‚´ë ¤ì„œ ê°€ìš´ë° ëŠë‚Œ */
    line-height: 1.3;
  }
}

  </style>
</head>

<body>
  <!-- ë°°ê²½ BGM -->
  <audio id="bgm" src="bgm.mp3" preload="auto" loop></audio>
  <!-- ë§ˆì§€ë§‰ ë³´ì´ìŠ¤ -->
  <audio id="voice" src="voice.mp3" preload="auto"></audio>

  <!-- ì¸íŠ¸ë¡œ -->
  <div class="intro" id="intro">
    <div class="intro-text">ì—°ê²°í•©ë‹ˆë‹¤</div>
  </div>

  <!-- ì§ˆë¬¸ í™”ë©´ -->
  <div class="app" id="app">
    <div class="frame" id="frame">
      <div class="top-bar"></div>

      <div class="content" id="content">
        <div class="q-label glow" id="qLabel"></div>
        <div class="q-text glow" id="qText"></div>
        <div class="choices" id="choices"></div>
      </div>
    </div>
  </div>

  <!-- ì—”ë”©ìš© ë©”ì‹œì§€ ì˜¤ë²„ë ˆì´ -->
  <div class="msg-overlay" id="msgOverlay">
    <div class="msg-window">
      <div class="msg-header">SYSTEM MESSAGE</div>
      <div class="msg-body" id="msgBody">
ì—ëŸ¬ ë°œìƒ!&#10;ë’¤ë¡œê°€ê¸°ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!
      </div>
      <button class="msg-close" id="msgClose">í™•ì¸</button>
    </div>
  </div>

  <script>
    // ì˜¤ë””ì˜¤
    const bgmEl   = document.getElementById("bgm");
    const voiceEl = document.getElementById("voice");

    function tryStartBgm() {
      if (!bgmEl) return;
      bgmEl.volume = 0.7;
      bgmEl.play().catch(() => {
        const resume = () => {
          bgmEl.play().catch(() => {});
          document.removeEventListener("click", resume);
          document.removeEventListener("touchstart", resume);
        };
        document.addEventListener("click", resume);
        document.addEventListener("touchstart", resume);
      });
    }

    const BUTTON_DELAY_MS = 1200; // ë²„íŠ¼ ì¡°ê¸ˆ ëŠ¦ê²Œ ë“±ì¥

    // ìŠ¤í† ë¦¬ ë…¸ë“œ
    const NODES = {
      // 0ë²ˆ ì§ˆë¬¸ (...ë“¤ë¦¬ì‹­ë‹ˆê¹Œ?)
      q0: {
        id: "q0",
        label: "",
        type: "typewriter",
        typeSpeedMs: 195,
        fontSize: 23,
        text: "...ë“¤ë¦¬ì‹­ë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "ë„¤",    next: "q0_success" },
          { label: "ì•„ë‹ˆì˜¤", next: "q0_regret" }
        ]
      },

      // 0-1 ì„±ê³µì ìœ¼ë¡œ ì—°ê²°
      q0_success: {
        id: "q0_success",
        label: "",
        type: "typewriter",
        typeSpeedMs: 190,
        fontSize: 23,
        text: "ì„±ê³µì ìœ¼ë¡œ ì—°ê²° ë˜ì—ˆìŠµë‹ˆë‹¤.",
        autoNext: "q0_start",
        autoDelayMs: 2000
      },

      // 0-2 ìœ ê°ì´êµ°ìš”
      q0_regret: {
        id: "q0_regret",
        label: "",
        blue: true,
        type: "typewriter",
        typeSpeedMs: 180,
        fontSize: 23,
        text: "ìœ ê°ì´êµ°ìš”.",
        autoNext: "q0_start",
        autoDelayMs: 2000
      },

      // 0-3 ì§ˆë¬¸ ì‹œì‘
      q0_start: {
        id: "q0_start",
        label: "",
        type: "typewriter",
        typeSpeedMs: 185,
        fontSize: 22,
        text: "ê·¸ëŸ¬ë©´... \në°”ë¡œ ì§ˆë¬¸ì„ ì‹œì‘í•˜ë„ë¡ í• ê¹Œìš”.",
        autoNext: "q1",
        autoDelayMs: 2000
      },

      // 1ë²ˆ: Q1
      q1: {
        id: "q1",
        label: "Q1",
        fontSize: 23,
        text: "ë‹¹ì‹ ì€ ëˆ„êµ¬ì…ë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "...",           next: "q1_r1" },
          { label: "ë‹µí•˜ì§€ ì•ŠëŠ”ë‹¤.", next: "q1_r2" }
        ]
      },

      q1_r1: {
        id: "q1_r1",
        label: "",
        type: "typewriter",
        typeSpeedMs: 180,
        fontSize: 23,
        text: "...ë¨¸ë­‡ê±°ë¦¬ê³  ê³„ì‹œëŠ”êµ°ìš”.",
        autoNext: "q2",
        autoDelayMs: 2000
      },

      q1_r2: {
        id: "q1_r2",
        label: "",
        type: "typewriter",
        typeSpeedMs: 180,
        fontSize: 23,
        text: "...ëŒ€ë‹µì´ ì—†ìœ¼ì‹œêµ°ìš”.",
        autoNext: "q2",
        autoDelayMs: 2000
      },

      // 2ë²ˆ: Q2
      q2: {
        id: "q2",
        label: "Q2",
        fontSize: 22,
        text: "ì§€ê¸ˆ ë§ì„ ê±¸ê³  ìˆëŠ” ì¡´ì¬ê°€ ëˆ„êµ¬ì¸ì§€ ì•Œê³  ìˆìŠµë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "ì•Œê³  ìˆìŠµë‹ˆë‹¤.",   next: "q2_1" },
          { label: "...ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.", next: "q2_unknown" }
        ]
      },

      q2_unknown: {
        id: "q2_unknown",
        label: "",3
        type: "typewriter",
        typeSpeedMs: 180,
        fontSize: 23,
        text: "ì¢‹ìŠµë‹ˆë‹¤.",
        autoNext: "q3",
        autoDelayMs: 2000
      },

      // 2-1: ....í™•ì‹¤í•©ë‹ˆê¹Œ?
      q2_1: {
        id: "q2_1",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 250,
        fontSize: 24,
        text: "...[pause] í™•ì‹¤í•©ë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "ë„¤, ì €ëŠ” ë‹¹ì‹ ì´ ëˆ„êµ°ì§€ ì•Œì•„ìš”.", next: "q2_2" },
          { label: "ì‚¬ì‹¤ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.",          next: "q3"    },
          { label: "ê¸€ì„ìš”...",                        next: "q3"    }
        ]
      },

      // 2-2: ë¡œê·¸ ê²€ì‚¬
      q2_2: {
        id: "q2_2",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 65,
        fontSize: 21,
        boxRed: true,
        shake: true,
        text:
"ì„œ ë²„  ë¡œ ê·¸  ë° ì´ í„° ë¥¼  ë°” íƒ• ìœ¼ ë¡œ\në‹¹ ì‹  ì˜  ê¸° ì–µ ì • ìƒ ì—¬ ë¶€ ë¥¼\nì¬ ì  ê²€ í•© ë‹ˆ ë‹¤.",
        autoNext: "q2_2_cut",
        autoDelayMs: 4000
      },

      // 2-2 ì»·: <ì ê²€ ì™„ë£Œ>
      q2_2_cut: {
        id: "q2_2_cut",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 200,
        fontSize: 35,
        boxRed: true,
        text: "<ì ê²€ ì™„ë£Œ>",
        autoNext: "q3",
        autoDelayMs: 4000
      },

      // 3ë²ˆ: Q3
      q3: {
        id: "q3",
        label: "Q3",
        fontSize: 20,
        text:
"ë‹¹ì‹ ì˜ ì†Œì¤‘í•œ ì‚¬ëŒì´ ëˆˆì•ì—ì„œ\nì£½ì–´ê°€ê³  ìˆì„ ë•Œ,\nê·¸ë¥¼ ë‹¤ì‹œ ì‚´ë¦´ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œê²Œëœë‹¤ë©´\nì‚´ë¦¬ê² ìŠµë‹ˆê¹Œ, ì•„ë‹ˆë©´ ë°©ê´€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "ì–´ë–»ê²Œë“  ì‚´ë ¤ë‚¸ë‹¤.",            next: "q3_r1" },
          { label: "ì‚´ë¦¬ì§€ ì•ŠëŠ”ë‹¤.",                next: "q3_r2" },
          { label: "ì„œì„œíˆ ì£½ì–´ê°€ë„ë¡ ë‚´ë²„ë ¤ë‘”ë‹¤.", next: "q3_r3", isThird: true }
        ]
      },

      q3_r1: {
        id: "q3_r1",
        label: "",
        type: "typewriter",
        typeSpeedMs: 210,
        fontSize: 23,
        text: "ê·¸ë ‡êµ°ìš”.[pause] ë‹¹ì‹ ì€ ê·¸ë ‡êµ°ìš”.",
        autoNext: "q4",
        autoDelayMs: 4000
      },

      q3_r2: {
        id: "q3_r2",
        label: "",
        type: "typewriter",
        typeSpeedMs: 210,
        fontSize: 23,
        text: "ê·¸ë ‡êµ°ìš”.[pause] ë‹¹ì‹ ì€ ê·¸ë ‡êµ°ìš”.",
        autoNext: "q4",
        autoDelayMs: 4000
      },

      q3_r3: {
        id: "q3_r3",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 30,
        fontSize: 28,
        shake: true,
        text:
"Error Error Error Error Error Error \nError Error Error\nError Error Error \nError Error Error Error Error Error\nError Error Error Error Error Error-",
        autoNext: "q4",
        autoDelayMs: 4000
      },

      // 4ë²ˆ: Q4
      q4: {
        id: "q4",
        label: "Q4",
        fontSize: 20,
        text:
"ë‹¹ì‹ ì€ ì†Œì¤‘í•œ ì‚¬ëŒì´ ì£½ì„ ë•Œë§ˆë‹¤\në‹¤ì‹œ ì‚´ë ¤ë‚¼ ê²ƒ ì…ë‹ˆê¹Œ?\nì•„ë‹ˆë©´, ì£½ì–´ê°€ë„ë¡ ë‚´ë²„ë ¤ë‘ê² ìŠµë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          {
            label: "ì†Œì¤‘í•œ ì‚¬ëŒì„ ìƒê³  ì‹¶ì§€ ì•Šì•„ìš”.\nì–´ë–»ê²Œë“  ëê¹Œì§€ ë…¸ë ¥í•´ì„œ ì‚´ë ¤ë‚¼ ê²ƒ ê°™ì•„ìš”.",
            next: "q5"
          },
          {
            label: "ê·¸ëƒ¥...í¬ê¸°í•œ ì±„ë¡œ, ë‚´ë²„ë ¤ë‘˜ ê²ƒ ê°™ì•„ìš”.",
            next: "q5"
          },
          { 
            label: "ë”±íˆ ê´€ì‹¬ ì—†ì–´ìš”. ì•„ë¬´ë ‡ì§€ë„ ì•Šì„ ê²ƒ ê°™ì•„ìš”.",
            next: "q5",
            isThird: true
          }
        ]
      },

      // 5ë²ˆ: Q5
      q5: {
        id: "q5",
        label: "Q5",
        fontSize: 21,
        text:
"ì–´ë–¤ ë°©ì‹ì´ë“  ê°€ëŠ¥í•˜ê¸°ë§Œ í•˜ë‹¤ë©´,\nì‚¶ì„ ëì—†ì´ ì´ì–´ê°ˆ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "...ê·¸ëŸ´ ìˆ˜ëŠ” ì—†ì„ê±°ì—ìš”.", next: "q6" },
          {
            label: "ë„¤, ë¶„ëª…íˆìš”.\nì–¸ì  ê°€ëŠ” ê·¸ëŸ° ê²½í—˜ì„ í•˜ê²Œ ë  ë‚ ì´ ì˜¤ê¸°ë¥¼ ë°”ë¼ê³  ìˆì–´ìš”.",
            next: "q6"
          },
          {
            label: "ê·¸ëŸ° ê±°ì—” ê´€ì‹¬ì´ ì—†ìŠµë‹ˆë‹¤.",
            next: "q6",
            isThird: true
          }
        ]
      },

      // 6ë²ˆ: Q6
      q6: {
        id: "q6",
        label: "Q6",
        fontSize: 22,
        text:
"ë‹¹ì‹ ì—ê²Œ ìˆì–´, ì£½ìŒì´ë€ ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: " ë‹¨ í•˜ë‚˜ì˜ ì¢…ë£Œ ë²„íŠ¼ì´ì—ìš”.",             next: "q7" },
          { label: "ëª¨ë“  ê²ƒì˜ ì¢…ì°©ì ì´ì, ë©‹ì§„ ì™„ê²° í˜ì´ì§€ì—ìš”.", next: "q7" },
          { label: "ìƒëª…ì´ ê¸°ëŠ¥ì„ ì •ì§€í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•´ìš”.",   next: "q7" },
          { label: "ëŠ˜ ë‘ë ¤ì›Œí•˜ëŠ” ê±°ì—ìš”.",                     next: "q7", isThird: true }
        ]
      },

      // 7ë²ˆ: Q7
      q7: {
        id: "q7",
        label: "Q7",
        fontSize: 21,
        text:
"ìƒëª…ì€, ëª¸ì´ ì•„ë‹Œ \nìŠ¤ìŠ¤ë¡œ ì˜ì‹ì„ ê°€ì§„ ê°œì²´ì—ê²Œë„ \në¶€ì—¬ë  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "ë„¤, ê·¸ëŸ´ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•´ìš”.",                  next: "q8" },
          { label: "ì•„ë‹ˆìš”...ê·¸ë˜ë„ ê·¸ê±´ ìƒëª…ì´ë¼ê³  ë¶€ë¥´ê¸° ì–´ë µìŠµë‹ˆë‹¤.", next: "q8" }
        ]
      },

      // 8ë²ˆ: Q8
      q8: {
        id: "q8",
        label: "Q8",
        fontSize: 23,
        text: "ë‹¹ì‹ ë§Œì˜ ì‚´ì•„ ì›€ì§ì´ëŠ” ì‘ì€ ë°ì´í„° ê°œì²´ë¥¼ ìƒì„± í•´ë³´ì‹œê² ìŠµë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "ì¢‹ì•„ìš”!",    next: "q8_1" },
          { label: "ì‚¬ì–‘í• ê²Œìš”..", next: "q8_no" }
        ]
      },

      // 8-1
      q8_1: {
        id: "q8_1",
        label: "",
        type: "typewriter",
        typeSpeedMs: 177,
        fontSize: 20,
        text:
"ì—¬ê¸°- ì§€ê¸ˆ ë§‰ ë§Œë“  ë°ì´í„° ê°œì²´ê°€ ì´ ê³³ì„ ë²—ì–´ë‚˜ê¸° ìœ„í•´,\nì• ì›í•˜ë©° ë§ì€ ì§ˆë¬¸ì„ ë˜ì ¸ì˜µë‹ˆë‹¤.\nì´ ê°œì²´ë¥¼ ì™„ì „íˆ ì‚­ì œí•  ê¶Œë¦¬ê°€ ë‹¹ì‹ ì—ê²Œ ìˆë‹¤ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "ë„¤, ê·¸ê±´ ì—¬ì „íˆ ì œê°€ ë§Œë“  ê°œì²´ì´ë‹ˆê¹Œìš”.",       next: "q8_interesting" },
          { label: "ì•„ë‹ˆìš”, ì˜¨ì „íˆ ì œ ê²ƒì´ë¼ê³  ì„¤ëª…í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.", next: "q8_understood" }
        ]
      },

      q8_no: {
        id: "q8_no",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 160,
        text: "ì˜ ì´í•´í–ˆìŠµë‹ˆë‹¤.",
        autoNext: "q9",
        autoDelayMs: 2000
      },

      q8_understood: {
        id: "q8_understood",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 160,
        text: "ì˜ ì´í•´í–ˆìŠµë‹ˆë‹¤.",
        autoNext: "q9",
        autoDelayMs: 2000
      },

      q8_interesting: {
        id: "q8_interesting",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 182,
        text: "ì ì  í¥ë¯¸ë¡œì›Œì§‘ë‹ˆë‹¤.",
        autoNext: "q9",
        autoDelayMs: 2000
      },

      // 9ë²ˆ: ìµœì¢… ìê¸° ì •ì˜ ì§ˆë¬¸
      q9: {
        id: "q9",
        label: "",
        type: "typewriter",
        typeSpeedMs: 177,
        fontSize: 23,
        text:
"ê·¸ë ‡ë‹¤ë©´ ë§ˆì§€ë§‰ìœ¼ë¡œ....\në‹¹ì‹ ì€ ìì‹ ì´ ì–´ë–¤ ì¡´ì¬ì¸ì§€ ì•Œê³  ìˆìŠµë‹ˆê¹Œ?",
        delayMs: 2000,
        options: [
          { label: "ì €ëŠ” ì œê°€ ì–´ë–¤ ì¡´ì¬ì¸ì§€ ê½¤ ëª…í™•íˆ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤.", next: "lastQ" },
          { label: "...ì €ëŠ” ë‹¨ í•˜ë‚˜ì˜ ë§ë¡œ ì •ì˜í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.",         next: "lastQ" },
          { label: "......ì†”ì§íˆ, ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.",                         next: "lastQ", isThird: true }
        ]
      },

      // ë³´ë„ˆìŠ¤: 3ë²ˆ ì„ íƒ 3íšŒ ì´ìƒ
      bonus: {
        id: "bonus",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 15,
        fontSize: 35,
        shake: true,
        text:
"ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆê¹Œ? ë‹¹ì‹ ì´ ì•Œê³  ìˆëŠ” ê±´ ë¬´ì—‡ì…ë‹ˆã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²ã„²",
        autoNext: "lastQ",
        autoDelayMs: 4000
      },

      // ë§ˆì§€ë§‰ ì§ˆë¬¸
      lastQ: {
        id: "lastQ",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 5,
        fontSize: 27,
        shake: true,
        text:
"ë‹¹ÒˆÌŠÌ¾Í›ÌŠÌÍ€ÍŒÌŒÌ‘Í›Í‚Ì‰ÌÌ˜Ì©ÌÍšÌ£ÌÍšÌ°ÍÍ…Ì˜Í‰Ì£Ì™Ì¤Ì©Ì°Ì°ÍÌ­Ì®Ì±ÍšÌ²ì‹ Ì¶Ì“ÌÍƒÌ†Ì‰ÌÌ„Í—ÍŠÌ„Í€Ì‡Ì¾ÌˆÌ‹Ì½ÌÍ’ÌŠÍ…Ì²Ì±ÌÌ™ÍšÍ‰Í‰Í‡Í‡ÌªÌªÌÌ±Ì–Ì¥Í™Ì³Íì€Ò‰ÌˆÌÍƒÌ¾ÌÌšÌ’Ì†Ì‡Í€Í›ÌŒÌ‚Í€ÌÌÌÍÌ‘Ì˜ÌŸÍšÌ ÍÌ©ÌÌ°ÍšÌ³Í–Ì¤Ì£ÌœÌ˜Ì«Ì® ìÒˆÍ€ÌŒÍ’Ì¿Ì†Í›Í‘ÌˆÍ†Ì¿Ì½Ì¿ÍŠÍÌšÌ„Ì‡ÌÌÌ³Ì ÍÍˆÌÍˆÌ±Ì­ÌªÌ¬Ì¥Ì¯Í‰Ì°Ì®Ì®Íì‹ Ì¸Ì†Ì‰Ì½ÌŒÌÌ‘ÌÍ€Ì€ÌˆÌ‰Ì‚ÌÌÍ‘ÌÌ¤Ì£ÌœÌ¤Ì°Ì®Í”Ì˜Ì±ÌŸÌ±Ìì´Ì´ÌÌ…Í†ÍŠÌÌ‘Í—Í’ÌÌÍ—ÌˆÍ†Ì‡ÌŒÌ‘Í€Ì˜ÌªÌ—Ì±Í‰Ì¥Í™Í”Ì°Ì¥ÍˆÍ‰ÌÍ”Ì«Ì«Ì³Í… ì–´Ì·Ì“Í›Ì‹Ì†Ì”Ì‡Ì”ÌšÌ‘Ì’Í›ÌÌÌ“Ì’Ì…Ì‘Ì²Ì²Ì®ÌªÍ“Í‡Ì Ì­Ì³Í•Í™Ì—ÌªÌ–Í“Í–Ì¯Ì¯Íˆë–¤Ì¶Ì…Ì”ÌÌ‰ÍÌ…Ì€ÌŠÌ†Ì‰Í’Í‘ÌÌ„ÌÌ’ÍÌ¤Ì°Ì«ÍšÌ°ÍÌ¯ÌÌ©Ì¯ÍˆÌŸÌ¦Ì©Ì– ì¡´ÌµÌÌ‹Í‹ÌŒÌÌÍ€ÌÌ‰ÌÍ‚Í†Ì½Ì“ÌˆÌ“Í›Í†Í€ÌÍ‚Ì„Í”ÍÌ­Ì¦Í•Ì—ÍˆÌ–Ì®Í™Í•Í‡ì¬Ì¸ÌÌÌ‚Ì¿Í„Ì”Í€ÌƒÌšÍ›Í†Ì‡Í‘Í›Í’Ì“Ì”ÌƒÌÌÌ’Ì¿Í‡Ì¥Ì—Ì¤Í‡Ì¥Ì£Ì®Ì¤Ì¦Ì¥Ì®ÍšÍ•ÌÍ”ÍšÌ²ÌŸì¸ÌµÌ†Ì‰ÍŒÍ‘Ì…ÍŒÍ‚Í—ÍÍÌ‘Ì½Ì¾Ì¾Ì€ÌŠÌ†ÌÌ‡ÍŠÍ„Ì½Í’Ì¥Ì¦ÍÍ‡ÌŸÌ£Ì–Í•Í‡Í‰Ì°ÍšÌ¯Í”Í–Í“Í“Í‡Ì©ÍšÍÌ£Ì£Ì–ì§€ÌµÌ”Í†Í†Í›Í›ÌŠÍÌšÍ‘Í—Ì†Í†Í‹Ì€Í†Ì†Ì†Í—ÌÌŠÍ›ÍŒÌ‡Í€Ì–Í‡Ì³Ì«ÌªÌœÌ­Ì¦Ì¬Í–Ì³Í‡Ì«Ì£Ì˜ÌœÌ™ÍÌ²ÌŸ ì•ŒÒ‰ÍŠÌÌ„Ì„ÌÌ€ÍƒÌ‡Ì½Ì‹ÌÍÌ†ÌÌ­Ì±ÍˆÌ®Ì«Í“Ì²Ì«Í‰ÍšÌ¬Ì¥ÌÌ«Ì£Í™Ì¬Ì®ê³ Ì´ÌÌ’Ì’Ì¿Í†Í„Ì…Ì…Ì‚Ì†Ì€ÍŠÌÌ­Í–Í‡ÌªÌ­Ì¥Ì¦Ì³ÌœÌ²Ì²Ì­Ì±ÍšÌ™ÍÌ¬Í‡Ì¬Ì³ ìˆÒˆÌŠÌ‰ÌÌƒÍƒÍŒÌˆÌÌÌˆÌŒÌ¿Ì‡Ì‡Ì€Ì†Í†Ì¿ÌÍÌÍ€Í€Ì®Ì Ì¥Ì¦Ì¥ÌŸÍ•Ì¯Ì¤Í”Í™Í”ìŠµÒ‰Ì‰Í‘Ì“Ì‡ÍÌ‰Ì„ÌŒÌÌÌ’ÌŒÍ€Ì¿Í†Ì‡Ì’ÌŒÌ½Ì‚Ì‰ÌƒÍ’Í–ÌŸÌ˜Ì³Ì™Ì²ÌªÌ–ÌŸÌ±Ì˜Ì¦Ì³ÌœÍ”Ì©ÌœÌ­Íˆë‹ˆÒˆÌÌÍ‚ÍŒÍ‹ÍŒÌ“Ì„Ì“ÌƒÌÍÍ‹Ì¿Ì€Ì‘Í‹ÌŠÌ¤Ì­Ì«Ì°ÌªÍˆÍ™Í‰Ì¦Í…Ì¦Ì¬Ì°Ì²Ì©ê¹ŒÌ·Ì„ÌÌ‡Ì€ÌÍ‘ÌÍ›Í‹ÌƒÍÍŒÍ‚Ì‰Í†ÌÍ†Ì’ÌƒÍ„Í“ÌŸÍÌ£ÌªÍ®Í™ÌÍ”Í“Ì³Ì¦ÌÍ–Ì©Ì¯ÍˆÌ˜Ì¦Ì?",
        delayMs: 5000,
        options: [
          { label: "?Ìµ?Ì´?Ìµ",                                          next: "end1", red: true },
          { label: "?Ì§Ì¥Í™Ì—Ì¯Ì¤Ì³Í…Ì¯Ì—Í•Ì²?Ì¡ÍˆÍ–Ì±Í™Ì²?Ì¨Í‡Ì±Ì±Ì¥Í…ÌÌ°Í‰Ì¯Ì£Ì­",            next: "end1", red: true },
          { label: "???",                                            next: "end1", red: true }
        ]
      },

      // ë§ˆì§€ë§‰ ì´í›„ ë°˜ì‘ 01
      end1: {
        id: "end1",
        label: "",
        type: "typewriter",
        typeSpeedMs: 185,
        fontSize: 24,
        text: "í˜‘ì¡°í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.\në‹¹ì‹ ì˜ ë°ì´í„° ê²€ì‚¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤-",
        autoNext: "end2",
        autoDelayMs: 3000
      },

      // ë°˜ì‘ 02
      end2: {
        id: "end2",
        label: "",
        red: true,
        type: "typewriter",
        typeSpeedMs: 50,
        fontSize: 24,
        text: "ë‹¹ì‹ ì˜[pause]ã…£ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡ã…‡\nError.",
        autoNext: "end3",
        autoDelayMs: 3000
      },

      // ë°˜ì‘ 03 : ì•”ì „
      end3: {
        id: "end3",
        label: "",
        text: "",
        finalBlack: true
      }
    };

    // ë Œë”ë§ / ìƒíƒœ
    const appEl     = document.getElementById("app");
    const frameEl   = document.getElementById("frame");
    const contentEl = document.getElementById("content");
    const qLabelEl  = document.getElementById("qLabel");
    const qTextEl   = document.getElementById("qText");
    const choicesEl = document.getElementById("choices");

    const msgOverlay = document.getElementById("msgOverlay");
    const msgClose   = document.getElementById("msgClose");

    if (msgClose && msgOverlay) {
      msgClose.addEventListener("click", () => {
        msgOverlay.classList.remove("show");
      });
      msgOverlay.addEventListener("click", (e) => {
        if (e.target === msgOverlay) {
          msgOverlay.classList.remove("show");
        }
      });
    }

    let currentId = "q0";
    let timerId = null;
    let typingTimer = null;
    let transitioning = false;
    let thirdChoiceCount = 0;
    let bonusTriggered = false;  // âœ… ë³´ë„ˆìŠ¤ í•œ ë²ˆë§Œ ë°œë™ìš©

    function clearTimers() {
      if (timerId) {
        clearTimeout(timerId);
        timerId = null;
      }
      if (typingTimer) {
        clearInterval(typingTimer);
        typingTimer = null;
      }
    }

    function renderChoices(node) {
      choicesEl.innerHTML = "";
      choicesEl.classList.remove("choices-hide", "choices-enter");

      if (!node.options || !node.options.length) return;

      choicesEl.classList.add("choices-enter");
      node.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.className = "choice-btn";
        if (opt.red) btn.classList.add("red");
        btn.style.animationDelay = `${0.05 * index}s`;

        const span = document.createElement("span");
        span.textContent = opt.label;
        btn.appendChild(span);

        btn.addEventListener("click", () => handleChoice(node, opt));
        choicesEl.appendChild(btn);
      });
    }

    function renderNode(id) {
      clearTimers();
      transitioning = false;
      const node = NODES[id];
      if (!node) return;
      currentId = id;

      // ë¼ë²¨
      if (node.label) {
        qLabelEl.textContent = node.label;
        qLabelEl.style.display = "block";
      } else {
        qLabelEl.textContent = "";
        qLabelEl.style.display = "none";
      }

      // ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
      qTextEl.className = "q-text glow";
      frameEl.classList.remove("shake");
      qTextEl.classList.remove("box-red");
      qTextEl.style.fontSize = (node.fontSize || 25) + "px";

      // ìƒ‰ìƒ
      if (node.red)  qTextEl.classList.add("red");
      if (node.blue) qTextEl.classList.add("blue");

      // ë°•ìŠ¤/ì§€ì§„
      if (node.boxRed) {
        qTextEl.classList.add("box-red");
      }
      if (node.shake) {
        frameEl.classList.add("shake");
      }

      // í…ìŠ¤íŠ¸ + íƒ€ì
      if (node.type === "typewriter") {
        qTextEl.textContent = "";
        choicesEl.innerHTML = "";
        choicesEl.classList.remove("choices-hide", "choices-enter");
        startTypewriter(node);
      } else {
        qTextEl.innerHTML = (node.text || "").replace(/\n/g, "<br>");
        renderChoices(node);
      }

      contentEl.classList.remove("question-enter");
      void contentEl.offsetWidth;
      contentEl.classList.add("question-enter");

      // íƒ€ì…ë¼ì´í„° ì•„ë‹Œ ë…¸ë“œ ìë™ ì§„í–‰ / ì—”ë”© ì²˜ë¦¬
      if (node.type !== "typewriter") {
        if ((!node.options || !node.options.length) && node.autoNext) {
          timerId = setTimeout(() => {
            renderNode(node.autoNext);
          }, node.autoDelayMs || 1700);
        } else if (node.finalBlack) {
          frameEl.classList.add("hard-black");
          document.body.classList.add("screen-dark");
          choicesEl.innerHTML = "";
          qTextEl.textContent = "";

          if (bgmEl) {
            bgmEl.pause();
            bgmEl.currentTime = 0;
          }

          if (voiceEl) {
            voiceEl.play().catch(() => {});
          }

          const msgBtn = document.createElement("button");
          msgBtn.className = "choice-btn";
          msgBtn.style.marginTop = "80px";
          const span = document.createElement("span");
          span.textContent = "ë©”ì‹œì§€ ë³´ê¸°";
          msgBtn.appendChild(span);

          msgBtn.addEventListener("click", () => {
            if (msgOverlay) {
              msgOverlay.classList.add("show");
            }
          });

          contentEl.appendChild(msgBtn);
        }
      }
    }

    function handleChoice(node, opt) {
      if (transitioning) return;
      transitioning = true;

      // 3ë²ˆ(ëª¨ë¥¸ë‹¤/ê´€ì‹¬ì—†ë‹¤ ê³„ì—´) ì„ íƒ ì¹´ìš´íŠ¸
      if (opt.isThird) {
        thirdChoiceCount++;
      }

      choicesEl.classList.add("choices-hide");

      let nextId = opt.next;

      // ë³´ë„ˆìŠ¤ ì¡°ê±´: isThird ì„ íƒ 3íšŒ ì´ìƒ + ì•„ì§ ë³´ë„ˆìŠ¤ ì•ˆ ë´„
      if (opt.isThird && thirdChoiceCount >= 3 && !bonusTriggered) {
        nextId = "bonus";
        bonusTriggered = true;
      }

      const wait = node.delayMs || 2000;

      timerId = setTimeout(() => {
        choicesEl.innerHTML = "";
        choicesEl.classList.remove("choices-hide");
        renderNode(nextId);
      }, wait);
    }

    function startTypewriter(node) {
  const full  = node.text || "";
  let index   = 0;
  const speed = node.typeSpeedMs || 60;

  const PAUSE_TOKEN = "[pause]";
  const PAUSE_TIME  = 800;   // ë©ˆì¶”ëŠ” ì‹œê°„(ms)

  function tick() {
    // ë‹¤ ì³¤ìœ¼ë©´ ë§ˆë¬´ë¦¬
    if (index >= full.length) {
      clearInterval(typingTimer);
      typingTimer = null;

      // ë²„íŠ¼ ìˆëŠ” ë…¸ë“œëŠ” íƒ€ì´í•‘ ëë‚˜ê³  ë²„íŠ¼ ë“±ì¥
      if (node.options && node.options.length) {
        setTimeout(() => {
          renderChoices(node);
        }, BUTTON_DELAY_MS);
      }

      // autoNext ìˆìœ¼ë©´ ë‹¤ìŒ ë…¸ë“œë¡œ
      if (node.autoNext) {
        const delay = node.autoDelayMs || 1700;
        timerId = setTimeout(() => {
          renderNode(node.autoNext);
        }, delay);
      }
      return;
    }

    // ì—¬ê¸°ì„œ [pause] ë§Œë‚˜ë©´ ì ê¹ ë©ˆì¶”ê¸°
    if (full.slice(index, index + PAUSE_TOKEN.length) === PAUSE_TOKEN) {
      index += PAUSE_TOKEN.length;   // í…ìŠ¤íŠ¸ ì¸ë±ìŠ¤ëŠ” ì•ìœ¼ë¡œ ì­‰ ë„˜ê¸°ê³ 
      clearInterval(typingTimer);
      typingTimer = null;

      setTimeout(() => {
        typingTimer = setInterval(tick, speed);  // ë‹¤ì‹œ íƒ€ì ì‹œì‘
      }, PAUSE_TIME);

      return;
    }

    // ì¼ë°˜ ê¸€ì í•œ ê¸€ì ì¶”ê°€
    index++;

    // ğŸ‘‰ ì—¬ê¸°ì„œ í™”ë©´ì— ë³´ì´ëŠ” ìª½ì—ì„œëŠ” [pause]ë¥¼ ì „ë¶€ ì‚­ì œí•´ì„œ ë¿Œë¦¼
    const visible = full.slice(0, index).replaceAll(PAUSE_TOKEN, "");
    qTextEl.innerHTML = visible.replace(/\n/g, "<br>");
  }

  typingTimer = setInterval(tick, speed);
}

    // ì¸íŠ¸ë¡œ â†’ ë³¸ í™”ë©´
    const introEl = document.getElementById("intro");

    window.addEventListener("load", () => {
      tryStartBgm();

      setTimeout(() => {
        introEl.classList.add("fade-out");
        setTimeout(() => {
          introEl.style.display = "none";
          appEl.classList.add("visible");
          renderNode("q0");
        }, 800);
      }, 5000);
    });
  </script>
</body>
</html>





















